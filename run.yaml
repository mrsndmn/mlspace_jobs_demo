
# ü§ù –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:
# mls job submit --config ./binary.yaml
#
# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –∑–∞–¥–∞—á: https://fbdocs.website.yandexcloud.net/pages/mlspace/jobs/quick_start.html

job:
  description: "Token Pruning #d.tarasov #rnd #multimodal"
  environment:
    image: cr.ai.cloud.ru/aicloud-base-images/cuda12.1-torch2-py311:0.0.36
    variables:
      PYTHONPATH: ".:./src"
      WANDB_API_KEY: $WANDB_API_KEY # –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è mls
  resource:
    instance_type: a100.1gpu
    # processes: - # –°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∑–∞–ø—É—Å–∫–∞—Ç—å. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É GPU –Ω–∞ –æ–¥–Ω–æ–º –≤–æ—Ä–∫–µ—Ä–µ - —ç—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è torchrun.
    # processes: 1 # –î–ª—è —Ä–∞–±–æ—Ç—ã —Å accelerate –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å 1 –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ 1 –≤–æ—Ä–∫–µ—Ä.
    # workers: 1   # –°–∫–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–æ—Ä–∫–µ—Ä–æ–≤ –∑–∞–ø—É—Å–∫–∞—Ç—å
  script: 'python -c "from time import sleep; sleep(1000);" '
  type: binary



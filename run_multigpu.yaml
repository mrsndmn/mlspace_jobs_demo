
# ü§ù –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:
# mls job submit --config ./binary.yaml
#
# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –∑–∞–¥–∞—á: https://fbdocs.website.yandexcloud.net/pages/mlspace/jobs/quick_start.html

job:
  description: "Bert training #dtarasov #rnd #multimodal"
  environment:
    image: cr.ai.cloud.ru/aicloud-base-images/cuda12.1-torch2-py311:0.0.36
    variables:
      PYTHONPATH: ".:./src"
      WANDB_API_KEY: $WANDB_API_KEY
  resource:
    instance_type: a100.2gpu
    processes: 1 # –î–ª—è accelerate –≤–∞–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å 1 –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –≤–æ—Ä–∫–µ—Ä. –ü–æ—Ç–æ–º—É —á—Ç–æ —Å–∞–º –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –≤–Ω—É—Ç—Ä–∏ –≤–æ—Ä–∫–µ—Ä–∞.
  script: bash /workspace-SR004.nfs2/d.tarasov/mlspace_jobs_demo/scripts/run_training_multigpu_accelerate.sh --output_dir ./bert_finetune
  type: binary



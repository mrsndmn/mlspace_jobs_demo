
# ü§ù –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:
# mls job submit --config ./binary.yaml
#
# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –∑–∞–¥–∞—á: https://fbdocs.website.yandexcloud.net/pages/mlspace/jobs/quick_start.html

job:
  description: "Bert training Distributed #dtarasov #rnd #multimodal"
  environment:
    image: cr.ai.cloud.ru/aicloud-base-images/cuda12.1-torch2-py311:0.0.36
    variables:
      PYTHONPATH: ".:./src"
      WANDB_API_KEY: $WANDB_API_KEY
  resource:
    instance_type: a100.8gpu
    # processes: 1 # —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∑–∞–ø—É—Å–∫–∞—Ç—å - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ GPU –Ω–∞ –≤–æ—Ä–∫–µ—Ä–µ
    workers: 2
  script: /workspace-SR004.nfs2/d.tarasov/mlspace_jobs_demo/scripts/run_training.sh
  type: binary


